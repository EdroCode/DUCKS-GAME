<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa4</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa4</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Fun&#231;&#227;o Principal</a></li><li><a href="#g:2">Fun&#231;&#245;es Auxiliares</a></li><li><a href="#g:3">L&#243;gica de Decis&#227;o</a></li><li><a href="#g:4">Algoritmos de Escolha de Minhocas</a></li><li><a href="#g:5">Dete&#231;&#227;o de Alvos</a></li><li><a href="#g:6">Valida&#231;&#227;o e Dimens&#245;es</a></li><li><a href="#g:7">C&#225;lculo de Posi&#231;&#245;es</a></li><li><a href="#g:8">Procura de Terreno</a></li><li><a href="#g:9">Processamento de Suic&#237;dio</a></li><li><a href="#g:10">Fun&#231;&#245;es Auxiliares Gerais</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 4 de LI1/LP1 em 2025/26.</p><p>Este Bot utiliza diversos processos e algoritmos para conseguir obter 
a melhor jogada em certas situa&#231;&#245;es.</p><h1>L&#243;gica do Bot</h1><p>Este bot implementa uma estrat&#233;gia em duas fases distintas:</p><h2>Fase Normal</h2><p>O bot seleciona minhocas circularmente e executa a seguinte sequ&#234;ncia de prioridades:</p><ol><li value="1"><strong>Ataque Direto</strong>: Se deteta inimigos ou barris na linha de vis&#227;o, dispara a Bazuca</li><li value="2"><strong>Ataque Estrat&#233;gico</strong>: Se tem Bazuca mas sem alvos vis&#237;veis, calcula a posi&#231;&#227;o de impacto com maior dano ao terreno destrut&#237;vel</li><li value="3"><strong>Escava&#231;&#227;o</strong>: Se tem Escavadora, remove blocos de terra adjacentes para aumentar o dano total feito.</li><li value="4"><strong>Movimento Inteligente</strong>: Move-se horizontalmente em dire&#231;&#227;o &#224; minhoca inimiga mais pr&#243;xima</li></ol><h2>Fase Suic&#237;dio</h2><p>Quando o tempo est&#225; a acabar, o bot tenta maximizar o dano final:</p><ol><li value="1">Dispara Mina ou Dinamite no pr&#243;prio local (Se Tiver)</li><li value="2">Se n&#227;o tiver explosivos, tenta Bazuca apontada para baixo</li><li value="3">Sem armas, procura outras formas de suic&#237;dio:</li></ol><ul><li>Move-se para &#225;gua</li><li>Escava terra abaixo</li><li>Salta para fora do mapa</li><li>Move-se em dire&#231;&#227;o a outras minhocas (O que causa eventos adicionais que podem levar a mais dano)</li></ul><p>O bot prioriza causar dano cont&#237;nuo atrav&#233;s de ataques estrat&#233;gicos, mantendo mobilidade 
com escava&#231;&#227;o, e termina com uma sequ&#234;ncia suicida coordenada para maximizar destrui&#231;&#227;o final.</p><h1>Flow Map do Bot</h1><p><a href="https://www.mermaidchart.com/d/cd496e3a-b7e6-4575-86e8-b9b239f77e1d">https://www.mermaidchart.com/d/cd496e3a-b7e6-4575-86e8-b9b239f77e1d</a></p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:tatica">tatica</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; [(<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)]</li><li class="src short"><a href="#v:avancaTatica">avancaTatica</a> :: (<a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a>, [(<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)]) -&gt; <a href="Labs2025.html#t:Ticks" title="Labs2025">Ticks</a> -&gt; (<a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a>, [(<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)])</li><li class="src short"><a href="#v:avancaJogada">avancaJogada</a> :: (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>) -&gt; <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a></li><li class="src short"><a href="#v:avancaMinhocaJogada">avancaMinhocaJogada</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>, <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>) -&gt; <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a></li><li class="src short"><a href="#v:avancaObjetoJogada">avancaObjetoJogada</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; [<a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a>] -&gt; (<a href="Labs2025.html#t:NumObjeto" title="Labs2025">NumObjeto</a>, <a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a>) -&gt; Either <a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a> <a href="Tarefa3.html#t:Danos" title="Tarefa3">Danos</a></li><li class="src short"><a href="#v:jogadaTatica">jogadaTatica</a> :: <a href="Labs2025.html#t:Ticks" title="Labs2025">Ticks</a> -&gt; <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)</li><li class="src short"><a href="#v:complexBotMove">complexBotMove</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; (Int, <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>) -&gt; (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)</li><li class="src short"><a href="#v:escolherMinhoca">escolherMinhoca</a> :: [<a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>] -&gt; Int</li><li class="src short"><a href="#v:getMinhocasValidas">getMinhocasValidas</a> :: [<a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>] -&gt; [<a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>]</li><li class="src short"><a href="#v:minhocaOnSight">minhocaOnSight</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>)</li><li class="src short"><a href="#v:lastBlockValid">lastBlockValid</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; Bool</li><li class="src short"><a href="#v:getDimensoesMatriz">getDimensoesMatriz</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; (Int, Int)</li><li class="src short"><a href="#v:getPosicoesBazuca">getPosicoesBazuca</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>]</li><li class="src short"><a href="#v:getPosicoesSquare">getPosicoesSquare</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>]</li><li class="src short"><a href="#v:getPosicoesSquareInv">getPosicoesSquareInv</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>]</li><li class="src short"><a href="#v:getPosTer">getPosTer</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Labs2025.html#t:Terreno" title="Labs2025">Terreno</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] -&gt; Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a></li><li class="src short"><a href="#v:getPosInv">getPosInv</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] -&gt; Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a></li><li class="src short"><a href="#v:getPosLivre">getPosLivre</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] -&gt; Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a></li><li class="src short"><a href="#v:temMinaPos">temMinaPos</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; [<a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a>] -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>)</li><li class="src short"><a href="#v:tickingBomb">tickingBomb</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; <a href="Labs2025.html#t:Ticks" title="Labs2025">Ticks</a></li><li class="src short"><a href="#v:canBungeJump">canBungeJump</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a>)</li><li class="src short"><a href="#v:canFollowVoid">canFollowVoid</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a>)</li><li class="src short"><a href="#v:gotAmmo">gotAmmo</a> :: <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a> -&gt; <a href="Labs2025.html#t:TipoArma" title="Labs2025">TipoArma</a> -&gt; Bool</li><li class="src short"><a href="#v:getDir8">getDir8</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a></li><li class="src short"><a href="#v:distAtoB">distAtoB</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; Double</li><li class="src short"><a href="#v:getXWay">getXWay</a> :: <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a> -&gt; <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#227;o Principal</h1></a><div class="top"><p class="src"><a id="v:tatica" class="def">tatica</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; [(<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)] <a href="#v:tatica" class="selflink">#</a></p><div class="doc"><p>Gera uma sequ&#234;ncia de jogadas com base num estado inicial.</p><p>Funcionamento:</p><ul><li>Produz exactamente 100 jogadas (ticks 0..99) aplicando iterativamente <code><a href="Tarefa4.html#v:avancaTatica" title="Tarefa4">avancaTatica</a></code></li><li>Cada jogada &#233; determinada pela an&#225;lise do estado atual do jogo</li><li>A sequ&#234;ncia &#233; revertida no final para manter a ordem cronol&#243;gica</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:tatica0">Exemplos:</h2><details id="ch:tatica0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 (tatica estado)
</code></strong>[(0,Move Sul),(1,Dispara Bazuca Norte),...]
</pre></details></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es Auxiliares</h1></a><div class="top"><p class="src"><a id="v:avancaTatica" class="def">avancaTatica</a> :: (<a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a>, [(<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)]) -&gt; <a href="Labs2025.html#t:Ticks" title="Labs2025">Ticks</a> -&gt; (<a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a>, [(<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>)]) <a href="#v:avancaTatica" class="selflink">#</a></p><div class="doc"><p>Avan&#231;a a t&#225;ctica num &#250;nico tick.</p><p>Funcionamento:</p><ul><li>Determina a pr&#243;xima jogada com <code><a href="Tarefa4.html#v:jogadaTatica" title="Tarefa4">jogadaTatica</a></code></li><li>Aplica a jogada ao estado com <code><a href="Tarefa4.html#v:avancaJogada" title="Tarefa4">avancaJogada</a></code></li><li>Acumula a jogada na lista de jogadas realizadas</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:avancaTatica0">Exemplos:</h2><details id="ch:avancaTatica0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>avancaTatica (estado,[]) 0
</code></strong>(novoEstado,[(0,Move Sul)])
</pre></details></div></div><div class="top"><p class="src"><a id="v:avancaJogada" class="def">avancaJogada</a> :: (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>) -&gt; <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> <a href="#v:avancaJogada" class="selflink">#</a></p><div class="doc"><p>Aplica uma jogada no estado e processa o avan&#231;o temporal.</p><p>Funcionamento:</p><ul><li>Aplica <code><a href="Tarefa2.html#v:efetuaJogada" title="Tarefa2">efetuaJogada</a></code> para obter o estado interm&#233;dio</li><li>Avan&#231;a o estado de cada minhoca com <code><a href="Tarefa4.html#v:avancaMinhocaJogada" title="Tarefa4">avancaMinhocaJogada</a></code></li><li>Avan&#231;a objetos com <code><a href="Tarefa4.html#v:avancaObjetoJogada" title="Tarefa4">avancaObjetoJogada</a></code> e acumula danos</li><li>Aplica os danos acumulados com <code><a href="Tarefa3.html#v:aplicaDanos" title="Tarefa3">aplicaDanos</a></code></li></ul></div></div><div class="top"><p class="src"><a id="v:avancaMinhocaJogada" class="def">avancaMinhocaJogada</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>, <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>) -&gt; <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a> <a href="#v:avancaMinhocaJogada" class="selflink">#</a></p><div class="doc"><p>Avan&#231;a o rel&#243;gio interno de uma minhoca se esta n&#227;o executou uma jogada.</p><p>Funcionamento:</p><ul><li>Compara a posi&#231;&#227;o antiga com a nova posi&#231;&#227;o da minhoca</li><li>Se as posi&#231;&#245;es coincidirem, aplica <code><a href="Tarefa3.html#v:avancaMinhoca" title="Tarefa3">avancaMinhoca</a></code> para processar efeitos temporais</li><li>Caso contr&#225;rio, mant&#233;m a minhoca no estado novo</li></ul></div></div><div class="top"><p class="src"><a id="v:avancaObjetoJogada" class="def">avancaObjetoJogada</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; [<a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a>] -&gt; (<a href="Labs2025.html#t:NumObjeto" title="Labs2025">NumObjeto</a>, <a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a>) -&gt; Either <a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a> <a href="Tarefa3.html#t:Danos" title="Tarefa3">Danos</a> <a href="#v:avancaObjetoJogada" class="selflink">#</a></p><div class="doc"><p>Avan&#231;a um objecto no tempo se j&#225; existia anteriormente.</p><p>Funcionamento:</p><ul><li>Verifica se o objeto j&#225; existia na lista antiga</li><li>Se foi criado pela &#250;ltima jogada, devolve 'Left objeto'' para manter o objeto sem altera&#231;&#245;es</li><li>Caso contr&#225;rio aplica <code><a href="Tarefa3.html#v:avancaObjeto" title="Tarefa3">avancaObjeto</a></code> e devolve os danos acumulados</li></ul></div></div><a href="#g:3" id="g:3"><h1>L&#243;gica de Decis&#227;o</h1></a><div class="top"><p class="src"><a id="v:jogadaTatica" class="def">jogadaTatica</a> :: <a href="Labs2025.html#t:Ticks" title="Labs2025">Ticks</a> -&gt; <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>) <a href="#v:jogadaTatica" class="selflink">#</a></p><div class="doc"><p>Decide a jogada a executar num dado tick (0..99).</p><p>Funcionamento:</p><ul><li>Seleciona minhocas v&#225;lidas (com posi&#231;&#227;o e vivas)</li><li>Verifica o n&#250;mero de jogadas restantes e compara com <code><a href="Tarefa4.html#v:tickingBomb" title="Tarefa4">tickingBomb</a></code></li><li>Se houver tempo suficiente:</li></ul><pre>  - Verifica se existe um alvo na linha de vis&#227;o
  - Se sim, tenta disparar com <code><a href="Labs2025.html#v:Bazuca" title="Labs2025">Bazuca</a></code>
  - Caso contr&#225;rio, tenta <code>shootPhase</code> (avalia posi&#231;&#245;es de impacto)
  - Se faltar muni&#231;&#227;o, passa para <code>digFase</code>
</pre><ul><li>Se o tempo estiver a acabar, for&#231;a suic&#237;dio com <code>forcaSuicidio</code></li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:jogadaTatica0">Exemplos:</h2><details id="ch:jogadaTatica0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogadaTatica 0 estado
</code></strong>(0,Dispara Bazuca Norte)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogadaTatica 95 estado
</code></strong>(1,Dispara Dinamite Norte)
</pre></details></div></div><div class="top"><p class="src"><a id="v:complexBotMove" class="def">complexBotMove</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; (Int, <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>) -&gt; (<a href="Labs2025.html#t:NumMinhoca" title="Labs2025">NumMinhoca</a>, <a href="Labs2025.html#t:Jogada" title="Labs2025">Jogada</a>) <a href="#v:complexBotMove" class="selflink">#</a></p><div class="doc"><p>L&#243;gica de movimento mais complexa quando n&#227;o existe ac&#231;&#227;o &#243;bvia.</p><p>Funcionamento:</p><ul><li>Procura a minhoca mais pr&#243;xima v&#225;lida</li><li>Tenta mover na sua dire&#231;&#227;o horizontal</li><li>Se a posi&#231;&#227;o destino estiver ocupada, tenta uma dire&#231;&#227;o alternativa</li><li>Se n&#227;o houver minhocas pr&#243;ximas, move-se para Sul por defeito</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:complexBotMove0">Exemplos:</h2><details id="ch:complexBotMove0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>complexBotMove estado (0,minhoca)
</code></strong>(0,Move Este)
</pre></details></div></div><a href="#g:4" id="g:4"><h1>Algoritmos de Escolha de Minhocas</h1></a><div class="top"><p class="src"><a id="v:escolherMinhoca" class="def">escolherMinhoca</a> :: [<a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>] -&gt; Int <a href="#v:escolherMinhoca" class="selflink">#</a></p><div class="doc"><p>Escolhe a minhoca com menor vida entre as v&#225;lidas.</p><p>Funcionamento:</p><ul><li>Filtra as minhocas v&#225;lidas com <code><a href="Tarefa4.html#v:getMinhocasValidas" title="Tarefa4">getMinhocasValidas</a></code></li><li>Compara a vida de cada minhoca</li><li>Retorna o &#237;ndice relativo (0..n) da minhoca com menos vida</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:escolherMinhoca0">Exemplos:</h2><details id="ch:escolherMinhoca0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escolherMinhoca [minhoca1,minhoca2,minhoca3]
</code></strong>1
</pre></details></div></div><div class="top"><p class="src"><a id="v:getMinhocasValidas" class="def">getMinhocasValidas</a> :: [<a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>] -&gt; [<a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a>] <a href="#v:getMinhocasValidas" class="selflink">#</a></p><div class="doc"><p>Filtra as minhocas v&#225;lidas (com posi&#231;&#227;o e vivas).</p><p>Funcionamento:</p><ul><li>Verifica se a posi&#231;&#227;o da minhoca n&#227;o &#233; <code>Nothing</code></li><li>Verifica se a minhoca est&#225; viva com <code><a href="Tarefa0_2025.html#v:eMinhocaViva" title="Tarefa0_2025">eMinhocaViva</a></code></li><li>Retorna apenas as minhocas que satisfazem ambas as condi&#231;&#245;es</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getMinhocasValidas0">Exemplos:</h2><details id="ch:getMinhocasValidas0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getMinhocasValidas [minhoca1,minhoca2Morta,minhoca3SemPosicao]
</code></strong>[minhoca1]
</pre></details></div></div><a href="#g:5" id="g:5"><h1>Dete&#231;&#227;o de Alvos</h1></a><div class="top"><p class="src"><a id="v:minhocaOnSight" class="def">minhocaOnSight</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>) <a href="#v:minhocaOnSight" class="selflink">#</a></p><div class="doc"><p>Detecta alvos (minhocas ou barris) na linha de vis&#227;o de uma posi&#231;&#227;o.</p><p>Funcionamento:</p><ul><li>Obt&#233;m todas as posi&#231;&#245;es vis&#237;veis com <code><a href="Tarefa4.html#v:getPosicoesBazuca" title="Tarefa4">getPosicoesBazuca</a></code></li><li>Verifica se existem minhocas vivas nessas posi&#231;&#245;es</li><li>Verifica se existem barris nessas posi&#231;&#245;es</li><li>Escolhe o alvo mais pr&#243;ximo com <code>escolheMaisPerto</code></li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:minhocaOnSight0">Exemplos:</h2><details id="ch:minhocaOnSight0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>minhocaOnSight estado (2,3)
</code></strong>(True,Just (2,5))
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>minhocaOnSight estado (0,0)
</code></strong>(False,Nothing)
</pre></details></div></div><a href="#g:6" id="g:6"><h1>Valida&#231;&#227;o e Dimens&#245;es</h1></a><div class="top"><p class="src"><a id="v:lastBlockValid" class="def">lastBlockValid</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; Bool <a href="#v:lastBlockValid" class="selflink">#</a></p><div class="doc"><p>Verifica se a posi&#231;&#227;o inferior ao bloco est&#225; dentro da matriz.</p><p>Funcionamento:</p><ul><li>Move a posi&#231;&#227;o uma casa para Sul</li><li>Verifica se a nova posi&#231;&#227;o &#233; v&#225;lida na matriz</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:lastBlockValid0">Exemplos:</h2><details id="ch:lastBlockValid0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>lastBlockValid mapa (5,3)
</code></strong>False
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>lastBlockValid mapa (2,3)
</code></strong>True
</pre></details></div></div><div class="top"><p class="src"><a id="v:getDimensoesMatriz" class="def">getDimensoesMatriz</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; (Int, Int) <a href="#v:getDimensoesMatriz" class="selflink">#</a></p><div class="doc"><p>Devolve as dimens&#245;es da matriz (altura, largura).</p><p>Funcionamento:</p><ul><li>Conta o n&#250;mero de linhas</li><li>Conta o n&#250;mero de colunas na primeira linha</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getDimensoesMatriz0">Exemplos:</h2><details id="ch:getDimensoesMatriz0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getDimensoesMatriz [[Ar,Ar],[Ar,Ar],[Ar,Ar]]
</code></strong>(3,2)
</pre></details></div></div><a href="#g:7" id="g:7"><h1>C&#225;lculo de Posi&#231;&#245;es</h1></a><div class="top"><p class="src"><a id="v:getPosicoesBazuca" class="def">getPosicoesBazuca</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] <a href="#v:getPosicoesBazuca" class="selflink">#</a></p><div class="doc"><p>Devolve todas as posi&#231;&#245;es vis&#237;veis nas 8 dire&#231;&#245;es at&#233; ao limite da matriz.</p><p>Funcionamento:</p><ul><li>Para cada uma das 8 dire&#231;&#245;es</li><li>Calcula todas as posi&#231;&#245;es na dire&#231;&#227;o at&#233; sair da matriz</li><li>Ordena e concatena todas as posi&#231;&#245;es encontradas</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getPosicoesBazuca0">Exemplos:</h2><details id="ch:getPosicoesBazuca0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosicoesBazuca mapa (2,2)
</code></strong>[(0,0),(0,1),(0,2),(0,3),(0,4),(1,1),(1,2),...] 
</pre></details></div></div><div class="top"><p class="src"><a id="v:getPosicoesSquare" class="def">getPosicoesSquare</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] <a href="#v:getPosicoesSquare" class="selflink">#</a></p><div class="doc"><p>Devolve as posi&#231;&#245;es v&#225;lidas adjacentes (quadrado 3x3) a uma posi&#231;&#227;o.</p><p>Funcionamento:</p><ul><li>Para cada uma das 8 dire&#231;&#245;es adjacentes</li><li>Verifica se a posi&#231;&#227;o est&#225; dentro da matriz</li><li>Retorna apenas as posi&#231;&#245;es v&#225;lidas</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getPosicoesSquare0">Exemplos:</h2><details id="ch:getPosicoesSquare0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosicoesSquare mapa (2,2)
</code></strong>[(1,1),(1,2),(1,3),(2,1),(2,3),(3,1),(3,2),(3,3)]
</pre></details></div></div><div class="top"><p class="src"><a id="v:getPosicoesSquareInv" class="def">getPosicoesSquareInv</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] <a href="#v:getPosicoesSquareInv" class="selflink">#</a></p><div class="doc"><p>Devolve todas as posi&#231;&#245;es adjacentes (quadrado 3x3) a uma posi&#231;&#227;o.</p><p>Funcionamento:</p><ul><li>Para cada uma das 8 dire&#231;&#245;es adjacentes</li><li>Calcula a posi&#231;&#227;o nessa dire&#231;&#227;o</li><li>Inclui tanto posi&#231;&#245;es v&#225;lidas como inv&#225;lidas (fora da matriz)</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getPosicoesSquareInv0">Exemplos:</h2><details id="ch:getPosicoesSquareInv0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosicoesSquareInv (0,0)
</code></strong>[(-1,-1),(-1,0),(-1,1),(0,-1),(0,1),(1,-1),(1,0),(1,1)]
</pre></details></div></div><a href="#g:8" id="g:8"><h1>Procura de Terreno</h1></a><div class="top"><p class="src"><a id="v:getPosTer" class="def">getPosTer</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Labs2025.html#t:Terreno" title="Labs2025">Terreno</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] -&gt; Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> <a href="#v:getPosTer" class="selflink">#</a></p><div class="doc"><p>Procura o primeiro terreno do tipo dado numa lista de posi&#231;&#245;es.</p><p>Funcionamento:</p><ul><li>Percorre a lista de posi&#231;&#245;es</li><li>Verifica o terreno em cada posi&#231;&#227;o</li><li>Retorna a primeira posi&#231;&#227;o que cont&#233;m o terreno procurado</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getPosTer0">Exemplos:</h2><details id="ch:getPosTer0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosTer mapa Terra [(1,1),(2,2),(3,3)]
</code></strong>Just (2,2)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosTer mapa Agua [(1,1),(2,2)]
</code></strong>Nothing
</pre></details></div></div><div class="top"><p class="src"><a id="v:getPosInv" class="def">getPosInv</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] -&gt; Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> <a href="#v:getPosInv" class="selflink">#</a></p><div class="doc"><p>Verifica se existe uma posi&#231;&#227;o inv&#225;lida numa lista de posi&#231;&#245;es.</p><p>Funcionamento:</p><ul><li>Percorre a lista de posi&#231;&#245;es</li><li>Verifica se cada posi&#231;&#227;o &#233; v&#225;lida na matriz</li><li>Retorna a primeira posi&#231;&#227;o inv&#225;lida encontrada</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getPosInv0">Exemplos:</h2><details id="ch:getPosInv0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosInv mapa [(1,1),(2,2),(-1,5)]
</code></strong>Just (-1,5)
</pre></details></div></div><div class="top"><p class="src"><a id="v:getPosLivre" class="def">getPosLivre</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; [<a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>] -&gt; Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> <a href="#v:getPosLivre" class="selflink">#</a></p><div class="doc"><p>Procura a primeira posi&#231;&#227;o livre (Ar ou Agua) numa lista de posi&#231;&#245;es.</p><p>Funcionamento:</p><ul><li>Percorre a lista de posi&#231;&#245;es</li><li>Verifica o terreno em cada posi&#231;&#227;o</li><li>Retorna a primeira posi&#231;&#227;o que cont&#233;m <code><a href="Labs2025.html#v:Ar" title="Labs2025">Ar</a></code> ou <code><a href="Labs2025.html#v:Agua" title="Labs2025">Agua</a></code></li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getPosLivre0">Exemplos:</h2><details id="ch:getPosLivre0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getPosLivre mapa [(2,2),(1,1),(0,0)]
</code></strong>Just (0,0)
</pre></details></div></div><div class="top"><p class="src"><a id="v:temMinaPos" class="def">temMinaPos</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; [<a href="Labs2025.html#t:Objeto" title="Labs2025">Objeto</a>] -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a>) <a href="#v:temMinaPos" class="selflink">#</a></p><div class="doc"><p>Verifica se existe uma mina adjacente a uma posi&#231;&#227;o.</p><p>Funcionamento:</p><ul><li>Obt&#233;m todas as posi&#231;&#245;es adjacentes</li><li>Filtra os objetos do tipo <code><a href="Labs2025.html#v:Mina" title="Labs2025">Mina</a></code></li><li>Verifica se alguma mina est&#225; numa posi&#231;&#227;o adjacente</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:temMinaPos0">Exemplos:</h2><details id="ch:temMinaPos0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>temMinaPos (2,2) mapa objetos
</code></strong>(True,Just (2,3))
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>temMinaPos (0,0) mapa []
</code></strong>(False,Nothing)
</pre></details></div></div><a href="#g:9" id="g:9"><h1>Processamento de Suic&#237;dio</h1></a><div class="top"><p class="src"><a id="v:tickingBomb" class="def">tickingBomb</a> :: <a href="Labs2025.html#t:Estado" title="Labs2025">Estado</a> -&gt; <a href="Labs2025.html#t:Ticks" title="Labs2025">Ticks</a> <a href="#v:tickingBomb" class="selflink">#</a></p><div class="doc"><p>Calcula o tempo necess&#225;rio para que as minhocas suicidas completem as ac&#231;&#245;es.</p><p>Funcionamento:</p><ul><li>Identifica as minhocas que podem suicidar-se</li><li>Soma o tempo de detona&#231;&#227;o de cada arma</li><li>Adiciona uma margem de seguran&#231;a baseada no n&#250;mero de minhocas</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:tickingBomb0">Exemplos:</h2><details id="ch:tickingBomb0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>tickingBomb estado
</code></strong>25
</pre></details></div></div><div class="top"><p class="src"><a id="v:canBungeJump" class="def">canBungeJump</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a>) <a href="#v:canBungeJump" class="selflink">#</a></p><div class="doc"><p>Determina se uma minhoca pode saltar para uma posi&#231;&#227;o segura abaixo.</p><p>Funcionamento:</p><ul><li>Verifica as posi&#231;&#245;es abaixo &#224; direita e &#224; esquerda</li><li>Confirma se o caminho est&#225; livre (sem terreno opaco)</li><li>Retorna a dire&#231;&#227;o dispon&#237;vel para o salto</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:canBungeJump0">Exemplos:</h2><details id="ch:canBungeJump0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>canBungeJump mapa (2,2)
</code></strong>(True,Just Este)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>canBungeJump mapa (2,2)
</code></strong>(False,Nothing)
</pre></details></div></div><div class="top"><p class="src"><a id="v:canFollowVoid" class="def">canFollowVoid</a> :: <a href="Labs2025.html#t:Mapa" title="Labs2025">Mapa</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; (Bool, Maybe <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a>) <a href="#v:canFollowVoid" class="selflink">#</a></p><div class="doc"><p>Determina se existe um caminho lateral para cair no vazio.</p><p>Funcionamento:</p><ul><li>Procura colunas laterais com posi&#231;&#245;es livres</li><li>Verifica se o caminho est&#225; livre de terreno opaco</li><li>Escolhe a dire&#231;&#227;o mais pr&#243;xima com <code>getCloser</code></li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:canFollowVoid0">Exemplos:</h2><details id="ch:canFollowVoid0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>canFollowVoid mapa (2,2)
</code></strong>(True,Just Este)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>canFollowVoid mapa (2,2)
</code></strong>(False,Nothing)
</pre></details></div></div><a href="#g:10" id="g:10"><h1>Fun&#231;&#245;es Auxiliares Gerais</h1></a><div class="top"><p class="src"><a id="v:gotAmmo" class="def">gotAmmo</a> :: <a href="Labs2025.html#t:Minhoca" title="Labs2025">Minhoca</a> -&gt; <a href="Labs2025.html#t:TipoArma" title="Labs2025">TipoArma</a> -&gt; Bool <a href="#v:gotAmmo" class="selflink">#</a></p><div class="doc"><p>Verifica se a minhoca tem muni&#231;&#227;o de um determinado tipo de arma.</p><p>Funcionamento:</p><ul><li>Utiliza <code><a href="Tarefa0_2025.html#v:encontraQuantidadeArmaMinhoca" title="Tarefa0_2025">encontraQuantidadeArmaMinhoca</a></code> para obter a quantidade</li><li>Retorna True se a quantidade for maior que 0</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:gotAmmo0">Exemplos:</h2><details id="ch:gotAmmo0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>gotAmmo minhoca Bazuca
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>gotAmmo minhoca Jetpack
</code></strong>False
</pre></details></div></div><div class="top"><p class="src"><a id="v:getDir8" class="def">getDir8</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a> <a href="#v:getDir8" class="selflink">#</a></p><div class="doc"><p>Calcula a dire&#231;&#227;o dos 8 eixos entre duas posi&#231;&#245;es.</p><p>Funcionamento:</p><ul><li>Compara as coordenadas das duas posi&#231;&#245;es</li><li>Determina a dire&#231;&#227;o cardinal ou diagonal</li><li>Retorna a dire&#231;&#227;o mais pr&#243;xima quando o alvo n&#227;o est&#225; alinhado</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getDir80">Exemplos:</h2><details id="ch:getDir80"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getDir8 (2,2) (0,2)
</code></strong>Norte
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getDir8 (2,2) (0,4)
</code></strong>Nordeste
</pre></details></div></div><div class="top"><p class="src"><a id="v:distAtoB" class="def">distAtoB</a> :: <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; <a href="Tarefa0_geral.html#t:Posicao" title="Tarefa0_geral">Posicao</a> -&gt; Double <a href="#v:distAtoB" class="selflink">#</a></p><div class="doc"><p>Dist&#226;ncia euclidiana entre duas posi&#231;&#245;es.</p><p>Funcionamento:</p><ul><li>Calcula a diferen&#231;a em cada eixo</li><li>Aplica o teorema de Pit&#225;goras</li><li>Retorna a dist&#226;ncia como Double</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:distAtoB0">Exemplos:</h2><details id="ch:distAtoB0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>distAtoB (0,0) (3,4)
</code></strong>5.0
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>distAtoB (2,2) (2,5)
</code></strong>3.0
</pre></details></div></div><div class="top"><p class="src"><a id="v:getXWay" class="def">getXWay</a> :: <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a> -&gt; <a href="Tarefa0_geral.html#t:Direcao" title="Tarefa0_geral">Direcao</a> <a href="#v:getXWay" class="selflink">#</a></p><div class="doc"><p>Extrai a componente horizontal (Este/Oeste) de uma dire&#231;&#227;o.</p><p>Funcionamento:</p><ul><li>Recebe uma dire&#231;&#227;o (pode ser diagonal)</li><li>Retorna apenas a componente horizontal</li><li>Para dire&#231;&#245;es cardeais verticais, retorna Este por defeito</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:getXWay0">Exemplos:</h2><details id="ch:getXWay0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getXWay Noroeste
</code></strong>Oeste
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getXWay Sudeste
</code></strong>Este
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getXWay Norte
</code></strong>Este
</pre></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>